From 356fd17a8dee9788657e306a96392c0e0b11c3e6 Mon Sep 17 00:00:00 2001
From: "Wang, Yi A" <yi.a.wang@intel.com>
Date: Tue, 26 Aug 2025 08:20:01 +0000
Subject: [PATCH] patch xpu ops CMake

Signed-off-by: Wang, Yi A <yi.a.wang@intel.com>
---
 cmake/Modules/FindSYCL.cmake | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/cmake/Modules/FindSYCL.cmake b/cmake/Modules/FindSYCL.cmake
index 9a5cd844..b4d46e4b 100644
--- a/cmake/Modules/FindSYCL.cmake
+++ b/cmake/Modules/FindSYCL.cmake
@@ -34,7 +34,8 @@
 #  SYCL_ADD_EXECUTABLE
 #
 #  SYCL_ADD_LIBRARY
-
+set(SYCL_EXTRA_INCLUDE_DIRS $ENV{SYCL_EXTRA_INCLUDE_DIRS})
+string(REPLACE " " ";" SYCL_EXTRA_INCLUDE_DIRS "${SYCL_EXTRA_INCLUDE_DIRS}")
 macro(SYCL_FIND_HELPER_FILE _name _extension)
   set(_full_name "${_name}.${_extension}")
   # CMAKE_CURRENT_LIST_FILE contains the full path to the file currently being
@@ -216,6 +217,9 @@ macro(SYCL_WRAP_SRCS sycl_target generated_files)
   set(generated_extension ${CMAKE_${SYCL_C_OR_CXX}_OUTPUT_EXTENSION})
 
   set(SYCL_include_dirs "${SYCL_INCLUDE_DIR}")
+  if(DEFINED SYCL_EXTRA_INCLUDE_DIRS)
+    list(APPEND SYCL_include_dirs ${SYCL_EXTRA_INCLUDE_DIRS})
+  endif()
   list(APPEND SYCL_include_dirs "$<TARGET_PROPERTY:${sycl_target},INCLUDE_DIRECTORIES>")
 
   set(SYCL_compile_definitions "$<TARGET_PROPERTY:${sycl_target},COMPILE_DEFINITIONS>")
-- 
2.43.7

